var express = require('express');
var router = express.Router();
var productHelpers = require('../helpers/product-helpers')

/* GET users listing. */
router.get('/', function(req, res, next) {
  let products=[
    {
      name:"IPHONE 11",
      category:"Mobile",
      Description:"This is the best iphone ever",
      image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSlIm7y1Rj70GJbwJVayooeHSUFRIq4OjSvr_NzmP51Wg&s"
    },
    {
      name:"IPHONE 12",
      category:"Mobile",
      Description:"This is the best iphone ever",
      image:"data:image/jpeg;base64,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"
    },
    {
      name:"IPHONE 13",
      category:"Mobile",
      Description:"This is the best iphone ever",
      image:"data:image/jpeg;base64,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"
    },
    {
      name:"IPHONE 14",
      category:"Mobile",
      Description:"This is the best iphone ever",
      image:"data:image/jpeg;base64,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"
    }
  ]
  res.render('admin/view-products',{admin:true,products})
});
router.get('/add-product',function(req,res){
  res.render('admin/add-product')
})

router.post('/add-product',(req,res)=>{
  console.log(req.body)
  console.log(req.files.Image)
  productHelpers.addProduct(req.body,(id)=>{
    let image = req.files.Image
    image.mv('./public/product-images/' + id + '.jpg',(err,done)=>{
      if(!err){
        res.render("admin/add-product")
      }else{
        console.log(err)
      }
    })
  })
})


module.exports = router;
